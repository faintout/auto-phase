const imagesList = [
    {
        name: '4',
        //别名
        aliasName: '左掉头',
        width: 18,
        height: 35,
        base64Src:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABGCAYAAACkPDbJAAAAAXNSR0IArs4c6QAAA1lJREFUaEPtmsFSE0EQhrsnq6U3OKqEJBdZPcEbJE9g3gDwZMFWAU8APIFBAuVJwxMQn0B8AjjJpjgkIegVjlguO+4sJmx2Z7dnYFN6mBzTPT3f/n/vhJoG4Z6fcnd96gl489yCOgCUEPn8qBTHHge4Cr5rQ+Hmm/vsY091G1RNHObZXacqIBjAIgeYUlnPAdrowY5baR5R+cpAoSIFrwEIi1TR1DjyFhRutrMUUwISqqAFh6qKZAIj7wU21tKgSKBXA2ctAGkoqYK8hxynKHDRXz76tbOZ/ZN43UwgBZgjLECbo/cl+sTC3scFr8oA6mkWh01veQtxpVKBXl+szPucHacoI5pz2y3STWp335W5ZR0iwN1b+LcoBzjpFJsL0T2kQGEDP/p9DBzLEiABsqVkYSTJHjhizWZinQ/bbumunhTIHjhioWzTe8GMjoxzpxW3UFj3y7MqvUrjSuQlgITEYFndvJSJ1klTnvt8o1PaC1+cJND5yhIg+zwGhLznzuxVdG2S5duy+gBHbrFZkwNdrHYTvYN8KQA6yANIqPTU8rrxo+Has6aFbWMKSe3KUZ1RL/VXW8Bw7MS/8fyFs8r+yRjQy3OnzhAOY3a13Jm95TzUuQNytoDF3jiOy+7sbmtcoX4ykTFW//7iw5dcgWR9JAdKSgkANZUDUAdY2tiqQENvdTakch8EBJZX0fkDi4IRcQNEqWQUMgpRClBx00NGIUoBKm56yChEKUDFTQ8ZhSgFqLjpIaMQpQAVNz1kFKIUoOKmh4xClAJU3PTQgxSyfzibwLwDcSllS25HxYUVXFtlLOCb09ndDWozlXimZXN9p4EM1kAM125nG9Vo0WBo0g6GJPXobbvKplk5mUD2wBEAX8lNcrzaI5s6mItdZg7dcr48J4FGtqXIxH3Y6ZSa66SKigkkEGVb3lfDJJB4sFTbcrZL7KUEJH3lxWrk+c86VEYLGbb9m9GCdI41AbuULROJcwNHTI/F/3LcfiZglxZQvNkmMZrSAoraJqbFnWJzWvFo0UpTesuGFe2BI35GqpOyS0uh8Dzqr65zhu8hx8FvXD4thcLZuuVdDqfEWl4oJmsBhSr9dNZOnzd3FOtrp2kDae+gueB/Bfo09hwc3ybG5JoPOpH0P4YeWHSMCidFAAAAAElFTkSuQmCC',
        sort:0
    },
    {
        name: '2',
        //别名
        aliasName: '左转',
        width: 22,
        height: 57,
        base64Src:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAACICAYAAACY/NnEAAAAAXNSR0IArs4c6QAAApRJREFUeF7t1k0uQ1EcBfD/5ZkzNGi0s5pZAiuwBIYiErECtYNKHjFjKc8ODCsGvjZgSFLvKtJPWvfce/KayOn43HOPX5+2zhJe688Hh91ueX3XOL9JqIk66mJONe/36pZll95s47aWr8R0pJ6Bh38q9y5tebNlMys6tXwrdUTM+eDhfeXe2M3+Rb70R7drZ+2Yi1PPBA2fUB69c6tTy4vUETHnZw7/TXmgbfYyr+f7c8PU4TOU+9vn9nz/OnyW8uhbOs/n+8fwAOXhduev7N09xjyfqWdey6z99aiEKqdeSDtf2omDlGk3JxcVrvm0v2sL7ti8qyfXVVdQDB+Vxaxlznaquzvppu/h/Rei781OnS+r+XHlFi4n/szx4YN/1AD9Kj8Om88H/s/hgH5lX0DQ8L/0fYVf+fDwAP1KfmRFD5+qX9pJZy1vJX0+BBxOGj5Fv5LnnDJ8VN87237rZo2HRvslAC46Qhs+pr9UFp3Vi4foVQEH6cMD7qRENJzCCJRIHMCiRCVOYQRKJA5gUaISpzACJRIHsChRiVMYgRKJA1iUqMQpjECJxAEsSlTiFEagROIAFiUqcQojUCJxAIsSlTiFESiROIBFiUqcwgiUSBzAokQlTmEESiQOYFGiEqcwAiUSB7AoUYlTGIESiQNYlKjEKYxAicQBLEpU4hRGoETiABYlKnEKI1AicQCLEpU4hREokTiARYlKnMIIlEgcwKJEJU5hBEokDmBRohKnMAIlEgewKFGJUxiBEokDWJSoxCmMQInEASxKVOIURqBE4gAWJSpxCiNQInEAixKVOIURKJE4gEWJSpzCCJRIHMCiRCVOYQRKJA5gUaISpzACJRIHsChRiVMYgRKJA1iU6L8S/wBpshOv23uWIwAAAABJRU5ErkJggg==',
        sort:1
    },
    {
        name: '1',
                //别名
        aliasName: '直行',
        width: 9,
        height: 70,
        base64Src:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAACICAYAAADqM7tyAAAAAXNSR0IArs4c6QAAAblJREFUaEPtmU1OwkAYht+pde/WRJBuTOPKGwg38AbWncFuPIF6AxIwcSfcwBvAEdzZXQlwgG5NgNH+TGnL9Ac3bt4uy/SZl+H7HmZSgZrrwndvDBOB1xrNqoaKOpC9evAhxdxrjXp/BtmLvgNhvEcAIR3v7HVSBqtMlKTpJKD5L8g6GJRLo57e4sU7Hz3rYNpEtn/fwfHRFFLEaZJLAsH32rTm1iAowvSgpfv0O1A7M0pS7YGiNKbpl61FWap90MIdQ+C28qeWYvDVHj5mx+RAdWlycHNteadvc3UvD2qQJgObZYs0BR2UZkfrqdbZgZbuFEC3rmUKn6epIpC2+JoTo1QxKG7MtPgEEEjgs5gwvGcAHQmcFNdKqDThw1tgIoCPcAZtSinuvPZwbC/dLiQcGPI6CiCko0ChJnK+qQJlv/Xlqn+12Yhuafc3BWnrKDsTQelqcLGVtOPKbiz/0kZOWoSgeAXYa+w1te1LN0jsNf4dUbVJDdCQNCQNGdYAN6PcjOr2zTQkDUlD0pAZN/CUnRMlDUlD0pA0JA1Z9h6FhqQhaUgakoakIeMV4BGCRwi+8FU18G/7ox8CZVFv49GJvQAAAABJRU5ErkJggg==',

        sort:2
    },
    {
        name: '3',
                //别名
        aliasName: '右转',
        width: 22,
        height: 57,
        base64Src:'data:image/png;base64,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',

        sort:3
    },
    {
        name: '2-1',
                //别名
        aliasName: '左转冲突',
        width: 22,
        height: 57,
        base64Src:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAABwCAYAAABhPUKwAAAAAXNSR0IArs4c6QAAAvBJREFUeF7tnEFu00AUht/YjkCsyhKR0mQBhF2PUG7ADRp2VWWpuUHSExDRFLErnABxAnqEriqzSmh6gC4RCgy1SaIkdTqT956NLP3e5v3v/fPN84zHUWKoopeR+G4MO1uPar8al/UPF5I8HC3b+KtxfHRbsGeCoH359P1XTnGJZmPjrWG8RzV7RtY00sI/J9HjUbN/IzHB0XobzwxH1CWivYVC58n24DWnsFTjNL7G8L+6xraT+ulnqQmOfq3x1vCgQVF0tkJ4uUY0aSZPPo44haWaO8bTleJB+LtrjO04kv+3Nskme2YuNfwwmhwZoo4l2pISydVb8zZ5dvJpXe7WOLa+dU0phmduNI2//BH3TUDpmlz8pWk8dZvdiGHUI0P7hbrXNj4z67WSTINv74UbS7TpVn+cbA/O7+nxb3mfpfecIdpd/Cx3OXxxFb8JAvtutjvmFjJmlNRPmoXO0DT5dC9ZGtS9G1Dr6rBNgemuHUBJ6/jGxucttG4Af+g42Rn0iqbONj4fwDjukbH7CzNQyiYkNp63ApXxdKhifGkFCqOetfbi+85pv8h2UTVepNHV3BU2ftCgIGo71/EyaXJrOQ8S3MRF62C8aMKr+UEcxD0JoFU8QamFVYL4/LXfwrCrYzwi/xOQ2rwKE1X4ISt74Qriwgbwl6NV/FnpRIK4Dkf/LCDuz0onEsR1OPpnAXF/VjqRIK7D0T8LiPuz0omcfhfr/vJKp1yxWSpx5sxDAOPFNsbd7CAO4p4E0CqeoFhh2QZEk+ptQHhWYc23QATiAngsKYizsAlEIC6Ax5KCOAubQATiAngsKYizsAlEIC6Ax5KCOAubQPT8+nA3JPNlMQUOywKgLCmIs7AJRCAugMeSgjgLm0AE4gJ4Tmn2U7Yq/tQAD1nOuVUOAHFloM50IO5EpBwA4spAnelA3IlIOQDElYE604G4E5FyAIgrA3WmA3EnIuWA7OhWC9N/jJpfOCwrQ3amA3EnIuWAyhL/C4wcLwLvGIeJAAAAAElFTkSuQmCC',

        sort:1
    },
    {
        name: '3-1',
                //别名
        aliasName: '右转冲突',
        width: 22,
        height: 57,
        base64Src:'data:image/png;base64,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',

        sort:3
    },
    {
        name: 'footPath',
                //别名
        aliasName: '人行道',
        width: 22,
        height: 57,
        base64Src:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAAAQCAYAAAB0m7E0AAAAAXNSR0IArs4c6QAAA4NJREFUaEPtW01O20AU/t7E9GfHthLQZIPcrnIDkhOQniDJrgJLbU8AuUGlBtQdyQkwJ2h6grKqrG4SAgdgV1qcecUuBNvY2GOM4lYz28y8N/O99/n9zIRQ8KiO3y8/f+q2WXLdWdnrFixei9MIFI7Aq1PrkIltVGZfnRefJ0UqoCKEzUk1QwtAw5dJ3HFW9oZFyNcyNAKPiYA53eqAxMG1jhGIB0WRLTfBPFI9q/xugUR7TqobFIgnV+SqPSYoWrZGoEgEzLPtMZiqEZk+2S4ul44mtY/nefQpEcwnFdw6DOwQUGdgOVapjl55bKHXLBAB88TahcBO0hYYsInYVs3KMhHMHFsNLHGbmFqJpNLRa4HuoVU/FAG/zDHccZp/E3Du12uXNHRq/VGa3kSCeaRiAy0BtNOUhpRI9EAytVC8mD2xg2F3nnKm7Tjm96gsc/y2ior4WwsqDmdtfxBcklvWTEyiBnh9tlWXEnXFLQExssxTqwGW0ZQmVbQQOP6+sn8cnLg+tlqiIuOzkfskLslRtCng1zM5Rhn8gVnUSeBd5u0Te34+uo9sIYLlJlUgeslL+iAMHGbYZNNZvf0C+I5sGOMM6+5OMdxa0NB+xDXwJY8sZ7UfxiRcAKuIHDmr/WaIrClpSKJw4kG0I2uebA8gyKt/1YZEz3nZ3w3tK77+SJfL1HXWPoU/SKcWpy+MnbFwf5CMNxXCgVJACfh+HNno2hk3vK5fTJGnilUPLkYZnXvhgMYdThNMweT/GcEANCHRuK8Wy4QO8YSZjqQrB+SlLTMWHSLefDDBvPRQaoJdG0FHsEzeOJ9Uhg9u00+7b1v2aicIRjMm74pqFE6H/LweHQjeyEM29gpAF12dIvpIa4KpuWc5CEZ8kMf3veaHBIZX3XU7WPokNznyki1jkwORArnIJsdDZBXV5JAQ5z/W+nbQx0rb5JhaLYHFNjlK4Q8sqirpYRKpgjbP1KZf9w2AFhE2UwtAfcms9t3Ws0uDQMJlc2h/8zY90zAYqZIOkYlgoY7TdKtDJDyiec+i4oe+aC6N0+iNZEMg8lzqLqkA72qjd+EaxyqvOpQJdqNZP5XKZjg9699AIPGpFMth9I5O5US5CRaKajcXu8F3iTqKqdhBz10gAtHHvlSB/fOXMVSJVIWliGk4zF8+CNrQf1dJQ0v/XgYEzKk1IAPfiiJV8Ex/AN1CW4TlaP+uAAAAAElFTkSuQmCC',

    },
];

//创建相位图
export default class AutoPhase {
    #initState
    #initPromise;

    constructor(parentId,phaseData) {
        this.canvasArea = null; //父节点容器
        this.parentId = parentId||null; //父节点id
        this.phaseData = phaseData||[]; //数据
        this.myCanvas = null //画布容器
        this.ctx = null //画布
        this.images = new Map()//存储相位、人行道图片
        this.debug = false //调试模式
        this.dpr = window.devicePixelRatio || 1; //设备像素比
        //初始化状态
        this.#initState = false
        this.#initPromise = this.#init()
        this.update()
    }

    //初始化布局、加载静态资源
    async #init() {
        const {debug,parentId} = this
        const scaleSize = this.#scaleSize.bind(this)
        var canvasArea = parentId?document.getElementById(parentId):this.#createParentElement()
        console.log('canvasArea',canvasArea);
        
        let myCanvas = document.createElement("canvas");

        const {height,width} = canvasArea.getBoundingClientRect()

        // 生成随机字符串作为 ID
        const randomId = Math.random().toString(36).slice(2, 9);
        myCanvas.setAttribute("height", scaleSize(height));
        myCanvas.setAttribute("width", scaleSize(width));
        myCanvas.setAttribute("id", randomId);
        myCanvas.style.cssText = `background-color: #131F3D;width:${width}px;height:${height}px;border:1px solid #525C76;position:absolute;`;
        canvasArea.style.position = "relative";
        
        //清空子元素
        canvasArea.innerHTML = '';
        canvasArea.appendChild(myCanvas);
        const ctx = myCanvas.getContext("2d");
        ctx.imageSmoothingEnabled = false;
        // 将原点移动到画布的中心
        ctx.translate(scaleSize(width) / 2, scaleSize(height) / 2);
        //赋值
        this.canvasArea = canvasArea
        this.myCanvas = myCanvas
        this.ctx = ctx
        //debug模式
        debug&&this.#drawDebugBaseLine()

        //监听窗口变化
        window.addEventListener("resize", this.#debounce(this.#resizeCanvas.bind(this), 300), false);
        //加载图片
        await this.#loadImages()
        this.#initState = true
    }
    
    #createParentElement() {
        // 生成随机字符串作为 ID
        const randomId = Math.random().toString(36).slice(2, 9);
        const parentElement = document.createElement("div");
        parentElement.setAttribute("height", 140);
        parentElement.setAttribute("width", 140);
        parentElement.setAttribute("id", randomId);
        return parentElement
    }
    //更新数据
    async update(phaseData) {
        //如果没有初始化则等待初始化完成
        !this.#initState&&await this.#initPromise
        //更新数据
        phaseData && (this.phaseData = phaseData)
        //重置画布
        this.#resetCanvas()
        this.#draw()
    }
    //开始绘制
    async #draw() {
        const isNumber = this.#isNumber.bind(this)
        // 根据角度围绕圆心绘制图形
        for(const phase of this.phaseData){
            const {directionAngle,laneDirection,pedestrianAngle,enterExitPedestrian} = phase
            //处理冲突流向
            phase.conflictLaneDirection&&(phase.laneDirection = phase.laneDirection.map(direction => 
                phase.conflictLaneDirection.includes(direction) ? `${direction}-1` : direction
              ));
            //绘制相位图片
            isNumber(directionAngle)&&laneDirection?.length&&await this.#drawPhaseImage(phase)
            //绘制人行道
            isNumber(pedestrianAngle)&&enterExitPedestrian?.length&&await this.#drawTwoWayFootPath(phase)
        }
        //debug模式
        this.debug&&this.#drawDebugBaseLine()

    }
    //绘制debug基线
    #drawDebugBaseLine(){
        const { data,debug,canvasArea,ctx } = this
        const scaleSize = this.#scaleSize.bind(this)
        const {height,width} = canvasArea.getBoundingClientRect()
        // 绘制水平线
        ctx.beginPath();
        ctx.moveTo(scaleSize(-width) / 2, 0);
        ctx.lineTo(scaleSize(width) / 2, 0);
        ctx.strokeStyle = 'gray';
        ctx.stroke();
        
        // 绘制垂直线
        ctx.beginPath();
        ctx.moveTo(0, scaleSize(-height) / 2);
        ctx.lineTo(0, scaleSize(height)  / 2);
        ctx.strokeStyle = 'gray';
        ctx.stroke();
        
        // 绘制小圆
        ctx.beginPath();
        ctx.arc(0, 0, scaleSize(3), 0, 2 * Math.PI);
        ctx.fillStyle = '#ff6f3c';
        ctx.fill();
    }
    //更改屏幕时重置画布
    async #resizeCanvas() {
        this.dpr = window.devicePixelRatio || 1;
        const scaleSize = this.#scaleSize.bind(this)
        const {
            myCanvas,
            canvasArea,
            ctx,
            debug
        } = this
        const {height,width} = canvasArea.getBoundingClientRect()
        myCanvas.width = scaleSize(width)
        myCanvas.height = scaleSize(height)
        // 将原点移动到画布的中心
        ctx.translate(scaleSize(width)  / 2, scaleSize(height) / 2);
        ctx.imageSmoothingEnabled = false;
        // 绘制水平线
        //debug模式
        debug&&this.#drawDebugBaseLine()
        this.update()
    }
    //绘制相位图片
    async #drawPhaseImage(phase) {
        //判断如果超过360度则减去360度
        phase.angle = (phase.directionAngle+180) % 360;
        //相位区域偏移量
        const phaseImgOffsetLeft = 15
        const phaseAreaWidth= 58;
        const phaseAreaHeight = 70;
        //相位距离圆心偏移量
        const phaseImgOffsetRadius = 50;
        const scaleSize = this.#scaleSize.bind(this)
        const {ctx,debug} = this
        ctx.imageSmoothingEnabled = false;
        // 计算相位图片的坐标
        const angle = (phase.angle+45) * (Math.PI / 180);
        const radius = scaleSize(phaseImgOffsetRadius); // 半径，可以根据需要调整
        const x = radius * Math.cos(angle);
        const y = radius * Math.sin(angle);
        // 创建相位图片
        const phaseImg = await this.#createPhaseImage(phase)
        
        // 绘制相位图片
        // 保存当前的绘图状态
        ctx.save();
        // 移动到矩形的中心
        ctx.translate(x, y);
        // 旋转矩形
        ctx.rotate(phase.angle * Math.PI / 180);

        //调试模式
        if(debug){
            // 绘制矩形
            ctx.beginPath();
            ctx.rect(-scaleSize(phaseAreaWidth) / 2 - scaleSize(phaseImgOffsetLeft), -scaleSize(phaseAreaHeight) / 2, scaleSize(phaseAreaWidth), scaleSize(phaseAreaHeight));
            ctx.strokeStyle = 'black'; // 设置矩形边框颜色
            ctx.stroke();
            ctx.fillStyle = '#155263'; // 设置矩形填充颜色
            ctx.fill();

            // 在矩形的中心绘制一个小圆
            ctx.beginPath();
            ctx.arc(- scaleSize(phaseImgOffsetLeft), 0, scaleSize(3), 0, 2 * Math.PI); // 绘制一个小圆
            ctx.fillStyle = '#ff9a3c';
            ctx.fill();
        }

        // 绘制相位图片
        this.#drawRotatedImage(phaseImg, -scaleSize(phaseAreaWidth) / 2 - scaleSize(phaseImgOffsetLeft), -scaleSize(phaseAreaHeight) / 2, scaleSize(phaseAreaWidth), scaleSize(phaseAreaHeight));
        ctx.restore();
        if(debug){
            // 在计算出的坐标上绘制图形
            ctx.beginPath();
            ctx.arc(x, y, scaleSize(3), 0, 2 * Math.PI); // 绘制一个小圆
            ctx.fillStyle = '#ffc93c';
            ctx.fill();
        }
    }
    // 绘制人行道
    async #drawTwoWayFootPath(phase) {
        const {pedestrianAngle,enterExitPedestrian} = phase
        await this.#createTwoWayFootPathImage(pedestrianAngle,enterExitPedestrian)
        const angle = pedestrianAngle-90
        // 人行道的宽度和高度
        const footPathWidth = 8;
        const footPathHeight = angle % 90 === 0 ? 108 : 60
        // 人行道距离圆心的距离
        const footPathOffsetRadius = 60;
        const scaleSize = this.#scaleSize.bind(this)
        // / 固定比例的宽度和高度
        const pathWidth = scaleSize(footPathWidth);
        const pathHeight = scaleSize(footPathHeight);

        const offset = scaleSize(footPathOffsetRadius); // 人行道距离圆心的距离
        // 计算人行道的位置
        const xOffset = offset * Math.cos(angle * (Math.PI / 180));
        const yOffset = offset * Math.sin(angle * (Math.PI / 180));
        this.#drawRotatedImage(this.images.get('twoWayFootPath')?.img, xOffset - pathHeight / 2, yOffset - pathWidth / 2, pathHeight, pathWidth, angle-90);
    }
    //加载图片
    async #loadImages() {
        const imagePromises = imagesList.map((item) => {
            return new Promise(async (resolve) => {
                const img = new Image();
                // img.src = new URL(`../images/${item.name}.png`, import.meta.url).href;
                img.src = item.base64Src;
                img.onload = () => {
                    this.images.set (item.name,{img, ...item});
                    resolve();
                };
            });
        });
        return Promise.all(imagePromises);
    }
    /**
     * @description 创建双向人行道图片
     * @param {Number} angle 角度 
     * @param {Array<Number>} enterExitList 出入口列表 0 入口 1 出口
     * @return {Promise<Image>} 
    */
    async #createTwoWayFootPathImage(angle,enterExitList) {
        //距离圆心的距离
        const offsetRadius = angle % 90 === 0 ? 20 : 10;
        //画布宽高
        const canvasWidth = 108
        const canvasHeight = 8
        const scaleSize = this.#scaleSize.bind(this)
        const imageCanvas = document.createElement('canvas');
        const ctx = imageCanvas.getContext('2d');
        ctx.imageSmoothingEnabled = false;

        imageCanvas.setAttribute("height", scaleSize(canvasHeight));
        imageCanvas.setAttribute("width", scaleSize(canvasWidth));


        if(this.debug){
            //辅助线
            // 绘制边框
            ctx.strokeStyle = '#ff6f3c';
            ctx.lineWidth = scaleSize(1);
            ctx.strokeRect(0, 0, imageCanvas.width, imageCanvas.height);

            // 绘制十字辅助线
            ctx.strokeStyle = '#ff6f3c';
            ctx.lineWidth = scaleSize(1);
            // 水平线
            ctx.beginPath();
            ctx.moveTo(0, imageCanvas.height / 2);
            ctx.lineTo(imageCanvas.width, imageCanvas.height / 2);
            ctx.stroke();
            // 垂直线
            ctx.beginPath();
            ctx.moveTo(imageCanvas.width / 2, 0);
            ctx.lineTo(imageCanvas.width / 2, imageCanvas.height);
            ctx.stroke();
        }
        // 计算图标的 x 坐标，使它们水平居中
        const x2 = imageCanvas.width - scaleSize((canvasWidth - offsetRadius) / 2);

        enterExitList.includes(0)&&ctx.drawImage(this.images.get('footPath').img, 0, 0, scaleSize((canvasWidth - offsetRadius) / 2), scaleSize(canvasHeight));
        enterExitList.includes(1)&&ctx.drawImage(this.images.get('footPath').img, x2, 0, scaleSize((canvasWidth - offsetRadius) / 2), scaleSize(canvasHeight));

        // 将 imageCanvas 转换为图片
        const dataURL = imageCanvas.toDataURL('image/png');
        const imgElement = document.createElement('img');
        imgElement.src = dataURL;
        return new Promise((resolve) => {
            imgElement.onload = () => {
                this.images.set("twoWayFootPath",{img:imgElement, width: scaleSize(canvasWidth), height: scaleSize(canvasHeight),name:'twoWayFootPath'});
                resolve();
            };
        });
    }
    //创建相位图片
    async #createPhaseImage(phase) {
        // 设置图片之间的间距
        const spacing = 5;
        const scaleSize = this.#scaleSize.bind(this)
        const imageCanvas = document.createElement('canvas');
        const ctx = imageCanvas.getContext('2d');
        ctx.imageSmoothingEnabled = false;
        // 获取相位图片
        console.log('phase',phase,this.images.values());
        const imagesList = Array.from(this.images.values())
        .filter(image => phase.laneDirection.some(line => line == image.name))
        .sort((a, b) => a.sort - b.sort)
        .map(image => Object.assign({}, image));


        //如果包含sort 0 和1 (掉头和左转)
        const sort0Index = imagesList.findIndex(image => image.sort === 0);
        const sort1Index = imagesList.findIndex(image => image.sort === 1);
        let uTurn = null
        if (sort0Index !== -1 && sort1Index !== -1) {
            uTurn = imagesList.splice(sort0Index, 1)[0];
            uTurn.width = scaleSize(uTurn.width);
            uTurn.height = scaleSize(uTurn.height);
        }
        
        //判断如果高度少于最大高度则更新最大高度（掉头不参与计算）
        const getMaxHeight = (images) => images.reduce((max, image) => Math.max(max, image.height), 0);

        const originMaxImageHeight = getMaxHeight(this.images.values());
        const maxImageHeight = getMaxHeight(imagesList);
        maxImageHeight < originMaxImageHeight&&imagesList.forEach(image => image.sort&&(image.height = originMaxImageHeight));

        //更新画布宽高
        imagesList.map((image, index) => {
            image.width = scaleSize(image.width);
            image.height = scaleSize(image.height);
        });

        imageCanvas.setAttribute("height", scaleSize(70));
        imageCanvas.setAttribute("width", scaleSize(58));
        // 获取画布的宽度和高度
        const canvasWidth = imageCanvas.width;
        const canvasHeight = imageCanvas.height;

        // 计算总的列数
        const cols = imagesList.length;

        // 计算起始位置，使图片水平居中显示
        const totalWidth = imagesList.reduce((sum, img) => sum + img.width, 0) + (cols - 1) * spacing;
        const startX = (canvasWidth - totalWidth) / 2;
        const startY = canvasHeight; // Y轴为画布高度，底部对齐


        
        // 绘制图片
        let currentX = startX;
        //绘制掉头图片（掉头需要偏移）
        uTurn&&ctx.drawImage(uTurn.img, currentX+scaleSize(4.8), startY - uTurn.height-scaleSize(5), uTurn.width, uTurn.height);
        imagesList.forEach((image) => {
            const y = startY - image.height; // 底部对齐
            ctx.drawImage(image.img, currentX, y, image.width, image.height);
            currentX += image.width + spacing;
        });
        const dataURL = imageCanvas.toDataURL('image/png');
        const imgElement = document.createElement('img');
        imgElement.src = dataURL;
        return new Promise((resolve) => {
            imgElement.onload = () => {
                resolve(imgElement);
            };
        });
    }

    //绘制旋转图片
    #drawRotatedImage(image, x, y, width, height, angle) {
        const {
            ctx,
            canvasArea
        } = this
        // 保存当前的绘图状态
        ctx.save();
        // 移动到图像的中心点
        ctx.translate(x + width / 2, y + height / 2);
        // 旋转画布
        ctx.rotate(angle * Math.PI / 180);
        // 绘制图像，注意偏移量
        ctx.drawImage(image, -width / 2, -height / 2, width, height);
        // 恢复绘图状态
        ctx.restore();
    }
    //计算尺寸
    #scaleSize(size) {
        return Number((size * this.dpr).toFixed(2))
    }
    //重置默认数据和画布
    #resetCanvas() {
        const {
            canvasArea,
            ctx
        } = this
        const scaleSize = this.#scaleSize.bind(this)
        const {height,width} = canvasArea.getBoundingClientRect()
        //重置画布
        ctx.clearRect(-scaleSize(width/2), -scaleSize(height/2), scaleSize(width), scaleSize(height));
    }
    #debounce(func, delay) {
        let timeout;
        return (...args) => {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                func(...args);
            }, delay);
        };
    }
    #isNumber(value) {
        return typeof value === 'number' && !isNaN(value);
      }
    //销毁
    destroy(){
        window.removeEventListener("resize", this.#debounce(this.#resizeCanvas.bind(this), 300), false);
    }
}
